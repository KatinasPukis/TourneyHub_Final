$(document).ready(function(){$("#errorAlert").hide(),$("#loginForm").submit(function(e){e.preventDefault(),console.log("Gathering login data");e={username:$("#username").val(),password:$("#password").val()};$.ajax({type:"POST",url:"/api/sitecore/Login/UserData",data:e,success:function(e){e.success?window.location.href=e.redirectUrl:(console.error("Login failed:",e.message),$("#errorAlert").text(e.message),$("#errorAlert").show())},error:function(e){console.error("Login request error:",e),$("#errorAlert").text("An error occurred while processing your request."),$("#errorAlert").show()}})})}),$(document).ready(function(){$("#registerForm").submit(function(e){e.preventDefault();let r="";var e=$("#email").val(),s=$("#password").val(),a=$("#repeatpassword").val(),i=$("#username").val(),t=$("#surname").val();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?$("#email").removeClass("is-invalid"):(r+="Invalid email address.<br>",$("#email").addClass("is-invalid")),s.length<6?(r+="Password must be at least 6 characters long.<br>",$("#password").addClass("is-invalid")):$("#password").removeClass("is-invalid"),s!==a?(r+="Passwords do not match.<br>",$("#repeatpassword").addClass("is-invalid")):$("#repeatpassword").removeClass("is-invalid"),i.trim()?$("#username").removeClass("is-invalid"):(r+="Username is required.<br>",$("#username").addClass("is-invalid")),t.trim()?$("#surname").removeClass("is-invalid"):(r+="Surname is required.<br>",$("#surname").addClass("is-invalid"));const o=$("#errorAlert");o.html(r),r?o.show():o.hide(),r||(e=$(this).serialize(),$.ajax({type:"POST",url:"/api/sitecore/Registration/UserData",data:e,success:function(e){e.success?(console.log("Form submitted successfully"),window.location.href="https://tourneyhub.sc/Login"):(console.error("Form submission failed"),o.html(e.message),o.show())},error:function(e){console.error("Error:",e)}}))})}),$(document).ready(function(){const r=$("#multiStepForm"),s=r.find(".form-step");var e=r.find(".next-step"),a=r.find(".prev-step");let i=1;function t(){$(".step-indicator li").each(function(e){e===i-1?$(this).addClass("active"):$(this).removeClass("active")})}s.hide(),s.eq(i-1).show(),t(),e.on("click",function(e){e.preventDefault(),i<s.length&&(s.eq(i-1).hide(),i++,s.eq(i-1).show(),t())}),a.on("click",function(e){e.preventDefault(),1<i&&(s.eq(i-1).hide(),i--,s.eq(i-1).show(),t())}),$("input[name='tournamentType']").change(function(){"Individual"===$("input[name='tournamentType']:checked").val()?($("#individualParticipants").show(),$("#teamSelection").hide()):($("#individualParticipants").hide(),$("#teamSelection").show())}),$("#submitForm").click(function(e){e.preventDefault();e=r.serialize();$.ajax({type:"POST",url:"/api/sitecore/Tournament/GetTournamentFormData",data:e,success:function(e){e.success?window.location.href=e.redirectUrl:$("#errorAlert").text(e.message).show()},error:function(){$("#errorAlert").text("An error occurred while processing your request.").show()}})})});