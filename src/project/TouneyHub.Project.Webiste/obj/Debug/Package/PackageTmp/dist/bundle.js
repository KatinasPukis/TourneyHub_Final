function deleteTournament(e){confirm("Are you sure you want to delete this tournament?")&&$.ajax({type:"DELETE",url:"/api/sitecore/Tournament/DeleteTournament",data:{tournamentId:e},success:function(e){e.success?(alert("Tournament deleted successfully"),window.location.reload()):alert("Failed to delete tournament: "+e.message)},error:function(e){alert("An error occurred while communicating with the server")}})}$(document).ready(function(){$("#errorAlert").hide(),$("#loginForm").submit(function(e){e.preventDefault(),console.log("Gathering login data");e={username:$("#username").val(),password:$("#password").val()};$.ajax({type:"POST",url:"/api/sitecore/Login/UserData",data:e,success:function(e){e.success?window.location.href=e.redirectUrl:(console.error("Login failed:",e.message),$("#errorAlert").text(e.message),$("#errorAlert").show())},error:function(e){console.error("Login request error:",e),$("#errorAlert").text("An error occurred while processing your request."),$("#errorAlert").show()}})})}),$(document).ready(function(){$("#errorAlert").hide(),$("#loginForm").submit(function(e){e.preventDefault(),console.log("Gathering login data");e={username:$("#username").val(),password:$("#password").val()};$.ajax({type:"POST",url:"/api/sitecore/Login/UserData",data:e,success:function(e){e.success?setTimeout(function(){window.location.href=e.redirectUrl},1e3):(console.error("Login failed:",e.message),$("#errorAlert").text(e.message),$("#errorAlert").show())},error:function(e){console.error("Login request error:",e),$("#errorAlert").text("An error occurred while processing your request."),$("#errorAlert").show()}})})}),$(document).ready(function(){$("#editButton").click(function(){var e=$(".card").data("participant-id");$("#editModal").data("participant-id",e),$("#editModal").modal("show")}),$("#saveButton").click(function(){var e,a,r=$("#editModal").data("participant-id");$("#editForm")[0].checkValidity()&&(e=new FormData($("#editForm")[0]),a=$("#editimage")[0].files[0],e.append("editimage",a),e.append("Id",r),e.append("name",$("#name").val()),e.append("surname",$("#surname").val()),e.append("age",$("#age").val()),e.append("info",$("#info").val()),$.ajax({type:"POST",url:"/api/sitecore/Tournament/EditTournamentParticipant",data:e,processData:!1,contentType:!1,success:function(e){e.success?(alert(e.message),window.location.reload()):alert(e.message)},error:function(e){alert("An error occurred while communicating with the server")}}),$("#editModal").modal("hide"))})}),$(document).ready(function(){$("#editTeamButton").click(function(){var e=$(".col-md-8").data("team-id");$("#editTeamModal").data("team-id",e),$("#editTeamModal").modal("show")}),$("#saveTeamButton").click(function(){var e,a,r=$("#editTeamModal").data("team-id");$("#editTeamForm")[0].checkValidity()&&(e=new FormData($("#editTeamForm")[0]),a=$("#teamimage")[0].files[0],e.append("teamimage",a),e.append("Id",r),e.append("TeamName",$("#TeamName").val()),e.append("TeamDescription",$("#TeamDescription").val()),$.ajax({type:"POST",url:"/api/sitecore/Tournament/EditTournamentTeam",data:e,processData:!1,contentType:!1,success:function(e){e.success?(alert(e.message),window.location.reload()):alert(e.message)},error:function(e){alert("An error occurred while communicating with the server")}}),$("#editTeamModal").modal("hide"))})}),$(document).ready(function(){$("#editUserButton").click(function(){var e=$(".container").data("user-id");$("#editUserModal").data("user-id",e),$("#editUserModal").modal("show")}),$("#saveUserButton").click(function(){var e,a=$("#editUserModal").data("user-id");$("#editUserModal")[0].checkValidity()&&((e=new FormData($("#editUserForm")[0])).append("Id",a),e.append("usernamne",$("#usernamne").val()),e.append("surname",$("#surname").val()),e.append("email",$("#email").val()),e.append("password",$("#password").val()),$.ajax({type:"POST",url:"/api/sitecore/Tournament/EditUserProfile",data:e,processData:!1,contentType:!1,success:function(e){e.success?(alert(e.message),window.location.reload()):alert(e.message)},error:function(e){alert("An error occurred while communicating with the server")}}),$("#editTeamModal").modal("hide"))})}),$(document).ready(function(){$("#registerForm").submit(function(e){e.preventDefault();let a="";var e=$("#email").val(),r=$("#password").val(),t=$("#repeatpassword").val(),o=$("#username").val(),i=$("#surname").val();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?$("#email").removeClass("is-invalid"):(a+="Invalid email address.<br>",$("#email").addClass("is-invalid")),r.length<6?(a+="Password must be at least 6 characters long.<br>",$("#password").addClass("is-invalid")):$("#password").removeClass("is-invalid"),r!==t?(a+="Passwords do not match.<br>",$("#repeatpassword").addClass("is-invalid")):$("#repeatpassword").removeClass("is-invalid"),o.trim()?$("#username").removeClass("is-invalid"):(a+="Username is required.<br>",$("#username").addClass("is-invalid")),i.trim()?$("#surname").removeClass("is-invalid"):(a+="Surname is required.<br>",$("#surname").addClass("is-invalid"));const n=$("#errorAlert");n.html(a),a?n.show():n.hide(),a||(e=$(this).serialize(),$.ajax({type:"POST",url:"/api/sitecore/Registration/UserData",data:e,success:function(e){e.success?(console.log("Form submitted successfully"),window.location.href="https://tourneyhub.sc/Login"):(console.error("Form submission failed"),n.html(e.message),n.show())},error:function(e){console.error("Error:",e)}}))})}),$(document).ready(function(){const a=$("#multiStepForm"),r=a.find(".form-step");var e=a.find(".next-step"),t=a.find(".prev-step");let o=1;function i(){$(".step-indicator li").each(function(e){e===o-1?$(this).addClass("active"):$(this).removeClass("active")})}r.hide(),r.eq(o-1).show(),i(),e.on("click",function(e){e.preventDefault(),o<r.length&&(r.eq(o-1).hide(),o++,r.eq(o-1).show(),i())}),t.on("click",function(e){e.preventDefault(),1<o&&(r.eq(o-1).hide(),o--,r.eq(o-1).show(),i())}),$("input[name='tournamentType']").change(function(){"Individual"===$("input[name='tournamentType']:checked").val()?($("#individualParticipants").show(),$("#teamSelection").hide()):($("#individualParticipants").hide(),$("#teamSelection").show())}),$("#submitForm").click(function(e){e.preventDefault();e=a.serialize();$.ajax({type:"POST",url:"/api/sitecore/Tournament/GetTournamentFormData",data:e,success:function(e){e.success?window.location.href=e.redirectUrl:$("#errorAlert").text(e.message).show()},error:function(){$("#errorAlert").text("An error occurred while processing your request.").show()}})})});